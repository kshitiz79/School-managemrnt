{
    "sourceFile": "src/App.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1755984887433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756042595703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,17 @@\n import ParentDashboard from './pages/dashboard/ParentDashboard'\n import AccountantDashboard from './pages/dashboard/AccountantDashboard'\n import PrincipalDashboard from './pages/dashboard/PrincipalDashboard'\n \n+// Tool pages\n+import QrAttendance from './pages/QrAttendance'\n+import Certificates from './pages/Certificates'\n+import Downloads from './pages/Downloads'\n+\n+// Settings pages\n+import ProfileSettings from './pages/settings/ProfileSettings'\n+import Preferences from './pages/settings/Preferences'\n+\n // Feature Module Routes\n import FinanceRoutes from './pages/finance'\n import CommunicationRoutes from './pages/communication'\n import HomeworkRoutes from './pages/homework'\n@@ -113,8 +122,17 @@\n         <Route path=\"timetable/*\" element={<TimetableRoutes />} />\n         <Route path=\"behaviour/*\" element={<BehaviourRoutes />} />\n         <Route path=\"exams/*\" element={<ExamsRoutes />} />\n         <Route path=\"fees/*\" element={<FeesRoutes />} />\n+\n+        {/* Tool Routes */}\n+        <Route path=\"qr-attendance\" element={<QrAttendance />} />\n+        <Route path=\"certificates\" element={<Certificates />} />\n+        <Route path=\"downloads\" element={<Downloads />} />\n+\n+        {/* Settings Routes */}\n+        <Route path=\"settings/profile\" element={<ProfileSettings />} />\n+        <Route path=\"settings/preferences\" element={<Preferences />} />\n       </Route>\n \n       {/* Default redirect */}\n       <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n"
                }
            ],
            "date": 1755984887433,
            "name": "Commit-0",
            "content": "import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from 'react-router-dom'\nimport { AuthProvider } from './contexts/AuthContext'\nimport { useAuth } from './hooks/useAuth'\nimport { USER_ROLES } from './constants/auth'\nimport Login from './pages/auth/Login'\nimport AppLayout from './components/layout/AppLayout'\nimport AdminDashboard from './pages/dashboard/AdminDashboard'\nimport TeacherDashboard from './pages/dashboard/TeacherDashboard'\nimport StudentDashboard from './pages/dashboard/StudentDashboard'\nimport ParentDashboard from './pages/dashboard/ParentDashboard'\nimport AccountantDashboard from './pages/dashboard/AccountantDashboard'\nimport PrincipalDashboard from './pages/dashboard/PrincipalDashboard'\n\n// Feature Module Routes\nimport FinanceRoutes from './pages/finance'\nimport CommunicationRoutes from './pages/communication'\nimport HomeworkRoutes from './pages/homework'\nimport LessonPlanRoutes from './pages/lessonplan'\nimport StudentsRoutes from './pages/students'\nimport AttendanceRoutes from './pages/attendance'\nimport MastersRoutes from './pages/masters'\nimport TermRoutes from './pages/term'\nimport TimetableRoutes from './pages/timetable'\nimport BehaviourRoutes from './pages/behaviour'\nimport ExamsRoutes from './pages/exams'\nimport FeesRoutes from './pages/fees'\n\n// App Routes Component (needs to be inside AuthProvider)\nconst AppRoutes = () => {\n  // Protected Route Component\n  const ProtectedRoute = ({ children }) => {\n    const { isAuthenticated, loading } = useAuth()\n\n    if (loading) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-background\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n            <p className=\"mt-4 text-muted-foreground\">Loading...</p>\n          </div>\n        </div>\n      )\n    }\n\n    return isAuthenticated ? children : <Navigate to=\"/login\" replace />\n  }\n\n  // Dashboard Redirect Component\n  const DashboardRedirect = () => {\n    const { user, isAuthenticated } = useAuth()\n\n    if (!isAuthenticated || !user) {\n      return <Navigate to=\"/login\" replace />\n    }\n\n    // Redirect based on user role\n    switch (user.role) {\n      case USER_ROLES.ADMIN:\n        return <Navigate to=\"/dashboard/admin\" replace />\n      case USER_ROLES.PRINCIPAL:\n        return <Navigate to=\"/dashboard/principal\" replace />\n      case USER_ROLES.TEACHER:\n        return <Navigate to=\"/dashboard/teacher\" replace />\n      case USER_ROLES.STUDENT:\n        return <Navigate to=\"/dashboard/student\" replace />\n      case USER_ROLES.PARENT:\n        return <Navigate to=\"/dashboard/parent\" replace />\n      case USER_ROLES.ACCOUNTANT:\n        return <Navigate to=\"/dashboard/accountant\" replace />\n      default:\n        return <Navigate to=\"/login\" replace />\n    }\n  }\n  return (\n    <Routes>\n      {/* Public Routes */}\n      <Route path=\"/login\" element={<Login />} />\n\n      {/* Protected Routes with Layout */}\n      <Route\n        path=\"/dashboard\"\n        element={\n          <ProtectedRoute>\n            <AppLayout />\n          </ProtectedRoute>\n        }\n      >\n        {/* Dashboard redirect route */}\n        <Route index element={<DashboardRedirect />} />\n\n        {/* Role-specific dashboard routes */}\n        <Route path=\"admin\" element={<AdminDashboard />} />\n        <Route path=\"principal\" element={<PrincipalDashboard />} />\n        <Route path=\"teacher\" element={<TeacherDashboard />} />\n        <Route path=\"student\" element={<StudentDashboard />} />\n        <Route path=\"parent\" element={<ParentDashboard />} />\n        <Route path=\"accountant\" element={<AccountantDashboard />} />\n\n        {/* Feature Module Routes */}\n        <Route path=\"finance/*\" element={<FinanceRoutes />} />\n        <Route path=\"communication/*\" element={<CommunicationRoutes />} />\n        <Route path=\"homework/*\" element={<HomeworkRoutes />} />\n        <Route path=\"lessonplan/*\" element={<LessonPlanRoutes />} />\n        <Route path=\"students/*\" element={<StudentsRoutes />} />\n        <Route path=\"attendance/*\" element={<AttendanceRoutes />} />\n        <Route path=\"masters/*\" element={<MastersRoutes />} />\n        <Route path=\"term/*\" element={<TermRoutes />} />\n        <Route path=\"timetable/*\" element={<TimetableRoutes />} />\n        <Route path=\"behaviour/*\" element={<BehaviourRoutes />} />\n        <Route path=\"exams/*\" element={<ExamsRoutes />} />\n        <Route path=\"fees/*\" element={<FeesRoutes />} />\n      </Route>\n\n      {/* Default redirect */}\n      <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n\n      {/* Catch all route */}\n      <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n    </Routes>\n  )\n}\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <div className=\"min-h-screen bg-background\">\n          <AppRoutes />\n        </div>\n      </AuthProvider>\n    </Router>\n  )\n}\n\nexport default App\n"
        }
    ]
}